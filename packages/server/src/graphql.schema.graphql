"""schema for account"""
type Account {
  createdAt: DateTime
  deletedAt: DateTime
  id: UUID!
  name: String
  updatedAt: DateTime
}

"""schema for account"""
type AccountInfo {
  id: UUID!
  name: String
  updatedAt: DateTime
}

"""schema for account"""
input AccountInfoInput {
  id: UUID!
  name: String
  updatedAt: DateTime
}

type AccountInfoUpdateResult {
  """List of errors associated with rejected documents"""
  errors: [UpdateError!]

  """list of rejected documents, with current returned state"""
  rejected: [AccountInfo!]!

  """list of updated documents that have been successfully processed"""
  updated: [AccountInfo!]!
}

"""schema for account"""
input AccountInput {
  createdAt: DateTime
  deletedAt: DateTime
  id: UUID!
  name: String
  updatedAt: DateTime
}

type AccountUpdateResult {
  """List of errors associated with rejected documents"""
  errors: [UpdateError!]

  """list of rejected documents, with current returned state"""
  rejected: [Account!]!

  """list of updated documents that have been successfully processed"""
  updated: [Account!]!
}

"""schema for blobinfos collection"""
type BlobInfo {
  createdAt: DateTime
  createdBy: UUID
  hash: String!
  local: Boolean
  mimeType: String!
  size: Int!
  source: String
  type: String!
  updatedAt: DateTime
}

"""schema for blobinfos collection"""
input BlobInfoInput {
  createdAt: DateTime
  createdBy: UUID
  hash: String!
  local: Boolean
  mimeType: String!
  size: Int!
  source: String
  type: String!
  updatedAt: DateTime
}

type BlobInfoUpdateResult {
  """List of errors associated with rejected documents"""
  errors: [UpdateError!]

  """list of rejected documents, with current returned state"""
  rejected: [BlobInfo!]!

  """list of updated documents that have been successfully processed"""
  updated: [BlobInfo!]!
}

scalar DateTime

"""schema holding documents"""
type Document {
  createdAt: DateTime
  createdBy: UUID!
  deletedAt: DateTime
  fileHash: String
  id: UUID!
  local: Boolean
  meta: JSON
  type: String!
  updatedAt: DateTime
}

"""schema for document highlights"""
type DocumentHighlight {
  content: JSON
  createdAt: DateTime
  createdBy: UUID
  deletedAt: DateTime
  documentId: UUID!
  documentType: String
  id: UUID!
  imageHash: String
  local: Boolean
  location: JSON
  sequence: String
  updatedAt: DateTime
}

"""schema for document highlights"""
input DocumentHighlightInput {
  content: JSON
  createdAt: DateTime
  createdBy: UUID
  deletedAt: DateTime
  documentId: UUID!
  documentType: String
  id: UUID!
  imageHash: String
  local: Boolean
  location: JSON
  sequence: String
  updatedAt: DateTime
}

type DocumentHighlightUpdateResult {
  """List of errors associated with rejected documents"""
  errors: [UpdateError!]

  """list of rejected documents, with current returned state"""
  rejected: [DocumentHighlight!]!

  """list of updated documents that have been successfully processed"""
  updated: [DocumentHighlight!]!
}

"""schema holding documents"""
input DocumentInput {
  createdAt: DateTime
  createdBy: UUID!
  deletedAt: DateTime
  fileHash: String
  id: UUID!
  local: Boolean
  meta: JSON
  type: String!
  updatedAt: DateTime
}

"""schema holding account documents"""
type DocumentMember {
  acceptedAt: DateTime
  accountId: UUID!
  createdAt: DateTime
  createdBy: UUID
  deletedAt: DateTime
  documentId: UUID!
  id: String
  local: Boolean
  role: String
  updatedAt: DateTime
}

"""schema holding account documents"""
input DocumentMemberInput {
  acceptedAt: DateTime
  accountId: UUID!
  createdAt: DateTime
  createdBy: UUID
  deletedAt: DateTime
  documentId: UUID!
  id: String
  local: Boolean
  role: String
  updatedAt: DateTime
}

type DocumentMemberUpdateResult {
  """List of errors associated with rejected documents"""
  errors: [UpdateError!]

  """list of rejected documents, with current returned state"""
  rejected: [DocumentMember!]!

  """list of updated documents that have been successfully processed"""
  updated: [DocumentMember!]!
}

type DocumentUpdateResult {
  """List of errors associated with rejected documents"""
  errors: [UpdateError!]

  """list of rejected documents, with current returned state"""
  rejected: [Document!]!

  """list of updated documents that have been successfully processed"""
  updated: [Document!]!
}

scalar JSON

type Mutation {
  pushAccountChanges(input: [AccountInput!]!): AccountUpdateResult!
  pushAccountInfoChanges(input: [AccountInfoInput!]!): AccountInfoUpdateResult!
  pushBlobInfoChanges(input: [BlobInfoInput!]!): BlobInfoUpdateResult!
  pushDocumentChanges(input: [DocumentInput!]!): DocumentUpdateResult!
  pushDocumentHighlightChanges(input: [DocumentHighlightInput!]!): DocumentHighlightUpdateResult!
  pushDocumentMemberChanges(input: [DocumentMemberInput!]!): DocumentMemberUpdateResult!
  pushSessionChanges(input: [SessionInput!]!): SessionUpdateResult!
}

type Query {
  getAccountChanges(limit: Int = 100, since: DateTime!): [Account!]!
  getAccountInfoChanges(limit: Int = 100, since: DateTime!): [AccountInfo!]!
  getBlobInfoChanges(limit: Int = 100, since: DateTime!): [BlobInfo!]!
  getDocumentChanges(limit: Int = 100, since: DateTime!): [Document!]!
  getDocumentHighlightChanges(limit: Int = 100, since: DateTime!): [DocumentHighlight!]!
  getDocumentMemberChanges(limit: Int = 100, since: DateTime!): [DocumentMember!]!
  getSessionChanges(limit: Int = 100, since: DateTime!): [Session!]!
}

"""schema for session"""
type Session {
  accountId: UUID!
  createdAt: DateTime
  deletedAt: DateTime
  id: UUID!
  syncDocuments: [String]
  updatedAt: DateTime
}

"""schema for session"""
input SessionInput {
  accountId: UUID!
  createdAt: DateTime
  deletedAt: DateTime
  id: UUID!
  syncDocuments: [String]
  updatedAt: DateTime
}

type SessionUpdateResult {
  """List of errors associated with rejected documents"""
  errors: [UpdateError!]

  """list of rejected documents, with current returned state"""
  rejected: [Session!]!

  """list of updated documents that have been successfully processed"""
  updated: [Session!]!
}

type Subscription {
  syncAccountInfoUpdates: [AccountInfo!]!
  syncAccountUpdates: [Account!]!
  syncBlobInfoUpdates: [BlobInfo!]!
  syncDocumentHighlightUpdates: [DocumentHighlight!]!
  syncDocumentMemberUpdates: [DocumentMember!]!
  syncDocumentUpdates: [Document!]!
  syncSessionUpdates: [Session!]!
}

scalar UUID

type UpdateError {
  """Error string associated with upd"""
  error: String

  """Id of the resource that failed update"""
  id: String!
}